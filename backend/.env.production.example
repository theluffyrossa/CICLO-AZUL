# PRODUCTION ENVIRONMENT VARIABLES
# Copy this file to .env in production and fill with actual values

# Server Configuration
NODE_ENV=production
PORT=3000
API_PREFIX=/api

# Database Configuration
DATABASE_URL=postgresql://user:password@host:5432/cicloazul
DB_HOST=your-production-db-host
DB_PORT=5432
DB_NAME=cicloazul
DB_USER=cicloazul
DB_PASSWORD=CHANGE-THIS-SECURE-PASSWORD
DB_POOL_MAX=20
DB_POOL_MIN=5

# JWT Configuration - GENERATE NEW SECRETS!
JWT_SECRET=CHANGE-THIS-TO-RANDOM-64-CHAR-STRING-MIN
JWT_EXPIRES_IN=24h
JWT_REFRESH_SECRET=CHANGE-THIS-TO-DIFFERENT-RANDOM-64-CHAR-STRING
JWT_REFRESH_EXPIRES_IN=7d

# Upload Configuration
UPLOAD_DIR=./uploads
UPLOAD_TEMP_DIR=./uploads/temp
MAX_FILE_SIZE=10485760
ALLOWED_IMAGE_TYPES=image/jpeg,image/png,image/jpg
IMAGE_QUALITY=80
IMAGE_MAX_WIDTH=1920
IMAGE_MAX_HEIGHT=1080

# Storage Configuration
STORAGE_PROVIDER=s3
API_URL=https://api.cicloazul.com.br

# AWS S3 Configuration (if using S3)
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-access-key
AWS_SECRET_ACCESS_KEY=your-secret-key
AWS_S3_BUCKET=cicloazul-production
AWS_S3_PUBLIC_URL=https://cdn.cicloazul.com.br

# Image Processing
ENABLE_THUMBNAILS=true
THUMBNAIL_SIZES=200,400,800
ENABLE_WATERMARK=true
WATERMARK_TEXT=CICLO AZUL
MIN_IMAGE_WIDTH=640
MIN_IMAGE_HEIGHT=480

# Rate Limiting (more restrictive in production)
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=50

# CORS - CRITICAL SECURITY SETTING
# List ONLY your trusted domains, comma-separated
# Examples:
# - Your production domain: https://app.cicloazul.com.br
# - Your admin panel: https://admin.cicloazul.com.br
# - Expo published app: https://expo.dev/@youruser/ciclo-azul
# NEVER use * in production!
CORS_ORIGIN=https://app.cicloazul.com.br,https://admin.cicloazul.com.br

# Logging (less verbose in production)
LOG_LEVEL=info
LOG_FILE=logs/app.log
LOG_MAX_SIZE=10m
LOG_MAX_FILES=14d

# Backup
BACKUP_DIR=./backups
BACKUP_RETENTION_DAYS=30

# Security
BCRYPT_SALT_ROUNDS=12
SESSION_TIMEOUT_MINUTES=30

# LGPD
DATA_RETENTION_DAYS=2555
ENABLE_AUDIT_LOG=true

# Monitoring (optional)
SENTRY_DSN=your-sentry-dsn
ENABLE_PERFORMANCE_MONITORING=true
